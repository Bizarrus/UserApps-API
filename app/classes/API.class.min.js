"use strict";var API=new function(){var t=null,n=!0;this.setConnection=function(i,e){t=i,void 0!==e&&(n=e)},this.getEndpoint=function(){return"http"+(n?"s":"")+"://"+t+"/"},this.canAccess=function(){return KnuddelsServer.getExternalServerAccess().canAccessURL(this.getEndpoint())},this.call=function(t,n){this.canAccess()?KnuddelsServer.getExternalServerAccess().postURL(this.getEndpoint(),{data:t,onSuccess:function(t,i){try{t=JSON.parse(t),n(t.data)}catch(i){n(t)}},onFailure:function(t,i){try{t=JSON.parse(t),n(t.data)}catch(i){n(t)}}}):KnuddelsServer.getDefaultLogger().error("Can't access to Endpoint: "+this.getEndpoint())},this.single=function(t,n,i){this.call({action:"single",query:t,param:JSON.stringify(n)},i)},this.fetch=function(t,n,i){this.call({action:"fetch",query:t,param:JSON.stringify(n)},i)},this.update=function(t,n,i,e){this.call({action:"update",table:t,where:n,param:JSON.stringify(i)},e)},this.remove=function(t,n,i){this.call({action:"remove",table:t,param:JSON.stringify(n)},i)},this.insert=function(t,n,i){this.call({action:"insert",table:t,param:JSON.stringify(n)},i)},this.count=function(t,n,i){this.call({action:"count",query:t,param:JSON.stringify(n)},i)}};
//# sourceMappingURL=API.class.min.js.map